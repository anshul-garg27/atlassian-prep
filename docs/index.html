<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atlassian Interview Prep</title>
    
    <!-- Fonts: Plus Jakarta Sans (Headings) + Inter (Body) + JetBrains Mono (Code) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Plus Jakarta Sans', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        background: '#030303', // Near black
                        surface: '#0A0A0A',    // Slightly lighter
                        surfaceHighlight: '#171717',
                        border: '#262626',
                        primary: '#3b82f6',    // Blue 500
                    },
                    typography: {
                        DEFAULT: {
                            css: {
                                maxWidth: 'none',
                            }
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- Marked & Highlight.js -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- Use a more refined theme for code -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark-reasonable.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/java.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Data -->
    <script src="content_data.js"></script>

    <style>
        /* Global Styles */
        body {
            background-color: #030303;
            color: #d4d4d4;
            font-feature-settings: "ss01", "ss02", "cv01", "cv02";
            -webkit-font-smoothing: antialiased;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #262626; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #404040; }

        /* Markdown Content Styles */
        .prose { color: #a3a3a3; font-size: 1.0625rem; line-height: 1.75; }
        
        .prose h1 { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            font-weight: 800; 
            font-size: 2.25rem; 
            letter-spacing: -0.02em;
            color: #ffffff;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #262626;
        }
        
        .prose h2 { 
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-weight: 700; 
            font-size: 1.75rem; 
            margin-top: 3rem; 
            margin-bottom: 1rem; 
            letter-spacing: -0.01em;
            color: #f5f5f5;
            scroll-margin-top: 100px; /* Offset for sticky header if needed */
        }
        
        .prose h3 { 
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-weight: 600; 
            font-size: 1.25rem; 
            margin-top: 2rem; 
            margin-bottom: 0.75rem; 
            color: #e5e5e5;
            scroll-margin-top: 100px;
        }

        .prose p { margin-bottom: 1.5rem; }
        
        .prose strong { color: #fff; font-weight: 600; }
        
        .prose a { 
            color: #60a5fa; 
            text-decoration: none; 
            border-bottom: 1px solid transparent;
            transition: border-color 0.2s;
        }
        .prose a:hover { border-bottom-color: #60a5fa; }

        .prose ul, .prose ol { margin-bottom: 1.5rem; padding-left: 1.5rem; }
        .prose ul { list-style-type: disc; }
        .prose ol { list-style-type: decimal; }
        .prose li { margin-bottom: 0.5rem; padding-left: 0.25rem; }
        .prose li::marker { color: #525252; }

        .prose blockquote { 
            border-left: 3px solid #3b82f6; 
            padding-left: 1.25rem; 
            margin: 2rem 0; 
            font-style: italic; 
            color: #a3a3a3;
        }

        /* Inline Code */
        .prose :not(pre) > code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85em;
            background: #1e1e1e;
            padding: 0.2em 0.4em;
            border-radius: 4px;
            color: #e5e5e5;
            border: 1px solid #333;
        }

        /* Code Blocks */
        .code-block-wrapper {
            position: relative;
            margin: 1.5rem 0;
            border: 1px solid #262626;
            border-radius: 8px;
            background: #0d0d0d;
            overflow: hidden;
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0.75rem;
            background: #171717;
            border-bottom: 1px solid #262626;
            font-family: 'Inter', sans-serif;
            font-size: 0.75rem;
            color: #737373;
        }

        .prose pre {
            margin: 0;
            padding: 1rem;
            overflow-x: auto;
            background: transparent;
        }

        .prose pre code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            background: transparent;
            padding: 0;
            color: inherit;
            border: none;
        }

        /* Tables */
        .prose table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            font-size: 0.95rem;
        }
        .prose th, .prose td {
            padding: 0.75rem 1rem;
            border: 1px solid #262626;
            text-align: left;
        }
        .prose th {
            background: #171717;
            color: #fff;
            font-weight: 600;
            font-family: 'Plus Jakarta Sans', sans-serif;
        }
        .prose td {
            color: #d4d4d4;
        }
        
        /* Animations */
        @keyframes slideDown {
            from { transform: translateY(-10px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef, useCallback } = React;
        
        // --- Icons ---
        const Icon = ({ name, size = 20, className = "" }) => {
            useEffect(() => {
                lucide.createIcons();
            }, [name]); 
            return <i data-lucide={name} className={className} style={{ width: size, height: size }}></i>;
        };

        const ChevronRight = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m9 18 6-6-6-6"/></svg>;
        const SearchIcon = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="opacity-50"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>;
        const CheckIcon = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-green-400"><path d="M20 6 9 17l-5-5"/></svg>;
        const CopyIcon = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>;
        const MenuIcon = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>;
        const ArrowLeft = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>;
        const ArrowRight = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>;

        // --- Utils ---
        
        // Extract headings for TOC
        const extractHeadings = (markdown) => {
            if (!markdown) return [];
            const lines = markdown.split('\n');
            const headings = [];
            let inCodeBlock = false;
            
            lines.forEach(line => {
                if (line.trim().startsWith('```')) {
                    inCodeBlock = !inCodeBlock;
                    return;
                }
                if (inCodeBlock) return;
                
                const match = line.match(/^(#{1,3})\s+(.+)$/);
                if (match) {
                    const level = match[1].length;
                    const text = match[2].trim();
                    const id = text.toLowerCase().replace(/[^\w\s-]/g, '').replace(/\s+/g, '-');
                    headings.push({ level, text, id });
                }
            });
            return headings;
        };

        // Copy to Clipboard Component
        const CopyButton = ({ text }) => {
            const [copied, setCopied] = useState(false);
            
            const handleCopy = () => {
                navigator.clipboard.writeText(text).then(() => {
                    setCopied(true);
                    setTimeout(() => setCopied(false), 2000);
                });
            };

            return (
                <button 
                    onClick={handleCopy}
                    className="p-1.5 text-gray-400 hover:text-white hover:bg-white/10 rounded transition-colors flex items-center gap-1.5 text-xs"
                    title="Copy code"
                >
                    {copied ? (
                        <>
                            <CheckIcon />
                            <span>Copied</span>
                        </>
                    ) : (
                        <>
                            <CopyIcon />
                            <span>Copy</span>
                        </>
                    )}
                </button>
            );
        };

        // --- Markdown Renderer Setup ---
        const renderer = new marked.Renderer();

        renderer.code = function(codeBlock, language) {
            let code = codeBlock;
            let lang = language;

            if (typeof codeBlock === 'object' && codeBlock !== null) {
                code = codeBlock.text || '';
                lang = codeBlock.lang || '';
            }

            code = String(code);
            const validLang = !!(lang && hljs.getLanguage(lang));
            let highlighted = validLang 
                ? hljs.highlight(code, { language: lang }).value 
                : hljs.highlightAuto(code).value;
            
            // We render the button as a placeholder span we can hydrate later, 
            // OR we just use a data attribute and delegate event.
            // Since we are in React, let's use a simpler approach: render HTML string, 
            // but use a unique ID to attach the React component portal? 
            // Too complex. Let's just render HTML and basic JS copy.
            
            const escapedCode = code.replace(/`/g, '\\`').replace(/"/g, '&quot;');

            return `
                <div class="code-block-wrapper group">
                    <div class="code-header">
                        <span class="uppercase tracking-wider font-semibold text-[10px]">${lang || 'text'}</span>
                        <button onclick="copyToClipboard(this)" data-code="${encodeURIComponent(code)}" class="opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:text-white flex items-center gap-1 text-xs">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                            Copy
                        </button>
                    </div>
                    <pre><code class="hljs ${lang}">${highlighted}</code></pre>
                </div>
            `;
        };

        renderer.heading = function(text, level) {
            // Handle Marked v12+ object signature
            if (typeof text === 'object' && text !== null) {
                const token = text;
                const depth = token.depth;
                // Try to use the parser for inline tokens if available, otherwise fallback to raw text
                const content = (this.parser && this.parser.parseInline) 
                    ? this.parser.parseInline(token.tokens) 
                    : token.text;
                
                const safeIdRaw = token.text || '';
                const id = safeIdRaw.toLowerCase().replace(/[^\w\s-]/g, '').replace(/\s+/g, '-');
                
                return `<h${depth} id="${id}">${content}</h${depth}>`;
            }

            // Legacy signature (string, number)
            const safeText = String(text || '');
            const id = safeText.toLowerCase().replace(/[^\w\s-]/g, '').replace(/\s+/g, '-');
            return `<h${level} id="${id}">${text}</h${level}>`;
        };

        marked.setOptions({ renderer, gfm: true, breaks: true });

        // Global copy handler
        window.copyToClipboard = function(btn) {
            const code = decodeURIComponent(btn.dataset.code);
            navigator.clipboard.writeText(code).then(() => {
                const originalHTML = btn.innerHTML;
                btn.innerHTML = `<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#4ade80" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg><span class="text-green-400">Copied</span>`;
                setTimeout(() => {
                    btn.innerHTML = originalHTML;
                }, 2000);
            });
        };

        // --- Components ---

        const TableOfContents = ({ markdown }) => {
            const headings = useMemo(() => extractHeadings(markdown), [markdown]);
            const [activeId, setActiveId] = useState('');

            useEffect(() => {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            setActiveId(entry.target.id);
                        }
                    });
                }, { rootMargin: '-100px 0px -66%' });

                headings.forEach(h => {
                    const el = document.getElementById(h.id);
                    if (el) observer.observe(el);
                });

                return () => observer.disconnect();
            }, [headings]);

            if (headings.length === 0) return null;

            return (
                <div className="hidden xl:block w-64 shrink-0 sticky top-8 h-[calc(100vh-4rem)] overflow-y-auto pl-6 border-l border-border/50">
                    <h4 className="text-xs font-semibold text-white uppercase tracking-wider mb-4 font-display">On this page</h4>
                    <ul className="space-y-2.5 text-sm">
                        {headings.map((h, i) => (
                            <li key={i} style={{ paddingLeft: (h.level - 1) * 12 }}>
                                <a 
                                    href={`#${h.id}`}
                                    className={`block transition-colors duration-200 ${
                                        activeId === h.id 
                                            ? 'text-primary' 
                                            : 'text-neutral-500 hover:text-neutral-300'
                                    }`}
                                    onClick={(e) => {
                                        e.preventDefault();
                                        document.getElementById(h.id)?.scrollIntoView({ behavior: 'smooth' });
                                        setActiveId(h.id);
                                    }}
                                >
                                    {h.text}
                                </a>
                            </li>
                        ))}
                    </ul>
                </div>
            );
        };

        const Sidebar = ({ items, activeItem, onItemClick, isOpen, onClose }) => {
            const [query, setQuery] = useState('');
            
            const filtered = useMemo(() => {
                if (!query) return items;
                const lower = query.toLowerCase();
                return items.filter(i => i.title.toLowerCase().includes(lower));
            }, [items, query]);

            return (
                <>
                    {/* Mobile Backdrop */}
                    <div 
                        className={`fixed inset-0 bg-black/80 backdrop-blur-sm z-40 md:hidden transition-opacity ${isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`}
                        onClick={onClose}
                    />
                    
                    <aside className={`
                        fixed md:sticky top-0 z-50 h-screen w-[280px] flex flex-col
                        bg-background md:bg-transparent border-r border-border/50
                        transition-transform duration-300
                        ${isOpen ? 'translate-x-0' : '-translate-x-full md:translate-x-0'}
                    `}>
                        {/* Header */}
                        <div className="p-6 pb-2">
                            <div className="flex items-center gap-3 mb-6">
                                <div className="w-8 h-8 bg-primary/20 rounded-lg flex items-center justify-center text-primary">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
                                </div>
                                <div>
                                    <h1 className="font-display font-bold text-white text-lg leading-tight">Interview Prep</h1>
                                    <span className="text-[10px] font-mono text-neutral-500 uppercase tracking-wider">Atlassian Edition</span>
                                </div>
                            </div>

                            {/* Search */}
                            <div className="relative group mb-2">
                                <div className="absolute inset-y-0 left-3 flex items-center pointer-events-none">
                                    <SearchIcon />
                                </div>
                                <input 
                                    type="text"
                                    placeholder="Search problems..."
                                    value={query}
                                    onChange={e => setQuery(e.target.value)}
                                    className="w-full bg-surfaceHighlight border border-border text-sm rounded-lg py-2 pl-9 pr-4 text-neutral-300 focus:ring-1 focus:ring-primary focus:border-primary outline-none transition-all placeholder:text-neutral-600"
                                />
                    </div>
                </div>

                        {/* Navigation List */}
                        <div className="flex-1 overflow-y-auto px-3 pb-4 space-y-0.5">
                            {filtered.length === 0 && (
                                <div className="px-4 py-8 text-center text-sm text-neutral-600">No results found</div>
                            )}
                            
                            {filtered.map((item, i) => {
                                const isActive = activeItem?.path === item.path;
                                return (
                                    <button
                                        key={item.path || i}
                                        onClick={() => onItemClick(item)}
                                        className={`
                                            w-full text-left px-3 py-2 rounded-md text-sm transition-all duration-200 flex items-center gap-3
                                            ${isActive 
                                                ? 'bg-surfaceHighlight text-white font-medium' 
                                                : 'text-neutral-500 hover:text-neutral-300 hover:bg-white/5'
                                            }
                                        `}
                                    >
                                        <span className={`font-mono text-[10px] w-5 ${isActive ? 'text-primary' : 'opacity-30'}`}>
                                            {(i + 1).toString().padStart(2, '0')}
                                        </span>
                                        <span className="truncate">{item.title}</span>
                                    </button>
                                );
                            })}
                        </div>
                        
                        {/* Footer */}
                        <div className="p-4 border-t border-border/50">
                            <a href="experiences.html" className="flex items-center justify-center gap-2 w-full py-2 bg-surfaceHighlight border border-border hover:border-neutral-600 text-neutral-300 rounded-lg text-xs font-medium transition-all hover:text-white">
                                View Experiences <ArrowRight />
                            </a>
                        </div>
                    </aside>
                </>
            );
        };

        // Error Boundary
        class ErrorBoundary extends React.Component {
            constructor(props) {
                super(props);
                this.state = { hasError: false, error: null };
            }

            static getDerivedStateFromError(error) {
                return { hasError: true, error };
            }

            componentDidCatch(error, errorInfo) {
                console.error("Uncaught error:", error, errorInfo);
            }

            render() {
                if (this.state.hasError) {
                    return (
                        <div className="flex items-center justify-center h-screen bg-background text-red-400 p-8 text-center">
                            <div>
                                <h1 className="text-2xl font-bold mb-4">Something went wrong</h1>
                                <pre className="text-sm bg-surfaceHighlight p-4 rounded text-left overflow-auto max-w-2xl">
                                    {this.state.error && this.state.error.toString()}
                                </pre>
                                <button 
                                    onClick={() => window.location.reload()} 
                                    className="mt-6 px-4 py-2 bg-primary text-white rounded hover:bg-blue-600 transition-colors"
                                >
                                    Reload Page
                                </button>
                            </div>
                        </div>
                    );
                }

                return this.props.children;
            }
        }

        const App = () => {
            const [items, setItems] = useState([]);
            const [activeItem, setActiveItem] = useState(null);
            const [isSidebarOpen, setIsSidebarOpen] = useState(false);

            // Load Data
            useEffect(() => {
                if (window.CONTENT_DATA) {
                    const ds = window.CONTENT_DATA.find(c => c.name === "Data_Structures");
                    if (ds && ds.children) {
                        const sorted = [...ds.children].sort((a, b) => a.name.localeCompare(b.name));
                        const processed = sorted.map(item => ({
                        ...item,
                        title: item.name.replace(/^\d+_/, '').replace(/\.md$/, '').replace(/_/g, ' ')
                    }));
                        setItems(processed);
                        if (processed.length > 0) setActiveItem(processed[0]);
                    }
                }
            }, []);

            const activeIndex = items.findIndex(i => i.path === activeItem?.path);
            
            const handleNext = () => {
                if (activeIndex < items.length - 1) {
                    setActiveItem(items[activeIndex + 1]);
                    window.scrollTo(0, 0);
                }
            };
            
            const handlePrev = () => {
                if (activeIndex > 0) {
                    setActiveItem(items[activeIndex - 1]);
                    window.scrollTo(0, 0);
                }
            };

            return (
                <div className="flex min-h-screen bg-background text-neutral-200 font-sans selection:bg-primary/30 selection:text-blue-100">
                    <Sidebar 
                        items={items} 
                        activeItem={activeItem} 
                        onItemClick={(item) => {
                            setActiveItem(item);
                            setIsSidebarOpen(false);
                            window.scrollTo(0,0);
                        }}
                        isOpen={isSidebarOpen}
                        onClose={() => setIsSidebarOpen(false)}
                    />
                    
                    <main className="flex-1 flex flex-col min-w-0 border-r border-border/50 relative">
                        {/* Mobile Header */}
                        <header className="md:hidden flex items-center justify-between p-4 border-b border-border sticky top-0 bg-background/80 backdrop-blur z-30">
                            <div className="flex items-center gap-3">
                                <button onClick={() => setIsSidebarOpen(true)} className="p-1 text-neutral-400 hover:text-white">
                                    <MenuIcon />
                                </button>
                                <span className="font-bold text-white">Interview Prep</span>
                            </div>
                        </header>

                        {/* Content Area */}
                        <div className="flex-1 flex">
                            <div className="flex-1 max-w-3xl mx-auto w-full px-6 py-12 md:px-12">
                                {activeItem ? (
                                    <div className="animate-fade-in">
                                        {/* Breadcrumb */}
                                        <div className="flex items-center gap-2 text-xs font-mono text-neutral-500 mb-8 uppercase tracking-wider">
                                            <span>Data Structures</span>
                                            <span>/</span>
                                            <span className="text-primary">{activeItem.title}</span>
                                        </div>
                                        
                                        {/* Markdown */}
                                        <article 
                                            className="prose prose-invert max-w-none"
                                            dangerouslySetInnerHTML={{ __html: marked.parse(activeItem.content || '') }}
                                        />

                                        {/* Footer Nav */}
                                        <div className="mt-16 pt-8 border-t border-border flex justify-between gap-4">
                                            {activeIndex > 0 ? (
                                                <button 
                                                    onClick={handlePrev}
                                                    className="group flex flex-col items-start gap-1 p-4 rounded-lg border border-border hover:border-neutral-500 hover:bg-surfaceHighlight w-full transition-all text-left"
                                                >
                                                    <span className="text-xs text-neutral-500 flex items-center gap-1"><ArrowLeft /> Previous</span>
                                                    <span className="font-display font-medium text-neutral-200 group-hover:text-white">{items[activeIndex - 1].title}</span>
                                                </button>
                                            ) : <div className="flex-1"></div>}

                                            {activeIndex < items.length - 1 ? (
                            <button 
                                                    onClick={handleNext}
                                                    className="group flex flex-col items-end gap-1 p-4 rounded-lg border border-border hover:border-neutral-500 hover:bg-surfaceHighlight w-full transition-all text-right"
                            >
                                                    <span className="text-xs text-neutral-500 flex items-center gap-1">Next <ArrowRight /></span>
                                                    <span className="font-display font-medium text-neutral-200 group-hover:text-white">{items[activeIndex + 1].title}</span>
                            </button>
                                            ) : <div className="flex-1"></div>}
                                        </div>
                                    </div>
                                ) : (
                                    <div className="flex h-full items-center justify-center text-neutral-500">
                                        Loading...
                                    </div>
                                )}
                                <div className="h-24"></div>
                            </div>

                            {/* Right TOC */}
                            {activeItem && <TableOfContents markdown={activeItem.content} />}
                        </div>
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(
            <ErrorBoundary>
                <App />
            </ErrorBoundary>
        );
    </script>
</body>
</html>