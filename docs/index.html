<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atlassian Interview Prep</title>
    
    <!-- Fonts: Plus Jakarta Sans (Headings) + Inter (Body) + JetBrains Mono (Code) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Plus Jakarta Sans', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        background: '#030303', // Near black
                        surface: '#0A0A0A',    // Slightly lighter
                        surfaceHighlight: '#121212',
                        border: '#262626',
                        primary: '#3b82f6',    // Blue 500
                        accent: '#6366f1',     // Indigo 500
                        success: '#10b981',
                        warning: '#f59e0b',
                        error: '#ef4444',
                    },
                    typography: {
                        DEFAULT: {
                            css: {
                                maxWidth: 'none',
                            }
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                        'slide-up': 'slideUp 0.4s ease-out forwards',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- Marked & Highlight.js -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark-reasonable.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/java.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Data -->
    <script src="content_data.js"></script>

    <style>
        /* Global Styles */
        body {
            background-color: #030303;
            color: #e5e5e5;
            font-feature-settings: "ss01", "ss02", "cv01", "cv02";
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }
        
        /* Spotlight Effect */
        body::before {
            content: '';
            position: fixed;
            top: -100px;
            left: 50%;
            transform: translateX(-50%);
            width: 80vw;
            height: 600px;
            background: radial-gradient(circle at center, rgba(59, 130, 246, 0.08), transparent 60%);
            pointer-events: none;
            z-index: -1;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #262626; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #404040; }

        /* Markdown Content Styles */
        .prose { color: #a3a3a3; font-size: 1.0625rem; line-height: 1.8; }
        
        /* Headings */
        .prose h1 { display: none; /* We use Hero component for H1 */ }
        
        .prose h2 { 
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-weight: 700; 
            font-size: 1.75rem; 
            margin-top: 3.5rem; 
            margin-bottom: 1.5rem; 
            letter-spacing: -0.02em;
            color: #f5f5f5;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .prose h2::before {
            content: '#';
            color: #3b82f6;
            opacity: 0.5;
            font-weight: 400;
            font-size: 0.8em;
        }
        
        .prose h3 { 
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-weight: 600; 
            font-size: 1.35rem; 
            margin-top: 2.5rem; 
            margin-bottom: 1rem; 
            color: #e5e5e5;
            letter-spacing: -0.01em;
        }
        .prose h4 { 
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-weight: 600;
            font-size: 1.1rem;
            margin-top: 1.5rem;
            color: #d4d4d4;
        }

        .prose p { margin-bottom: 1.5rem; }
        .prose strong { color: #fff; font-weight: 600; }
        
        .prose a { 
            color: #60a5fa; 
            text-decoration: none; 
            border-bottom: 1px solid transparent;
            transition: all 0.2s;
        }
        .prose a:hover { border-bottom-color: #60a5fa; color: #93c5fd; }

        .prose ul, .prose ol { margin-bottom: 1.5rem; padding-left: 1.5rem; }
        .prose ul { list-style-type: disc; }
        .prose ol { list-style-type: decimal; }
        .prose li { margin-bottom: 0.5rem; padding-left: 0.5rem; }
        .prose li::marker { color: #525252; }

        /* Blockquotes - Admonition Style */
        .prose blockquote { 
            border-left: 3px solid #3b82f6; 
            background: rgba(59, 130, 246, 0.05);
            padding: 1rem 1.5rem; 
            border-radius: 0 0.5rem 0.5rem 0; 
            margin: 2rem 0; 
            color: #cbd5e1;
            font-style: normal;
        }

        /* Inline Code */
        .prose :not(pre) > code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85em;
            background: rgba(255,255,255,0.08);
            padding: 0.2em 0.4em;
            border-radius: 6px;
            color: #e5e5e5;
            border: 1px solid rgba(255,255,255,0.1);
            white-space: nowrap;
        }

        /* Code Blocks - Window Style */
        .code-block-wrapper {
            margin: 2rem 0;
            border: 1px solid #333;
            border-radius: 12px;
            background: #0d0d0d;
            overflow: hidden;
            box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5);
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            background: #1a1a1a;
            border-bottom: 1px solid #333;
        }
        
        .window-controls {
            display: flex;
            gap: 8px;
        }
        .control { width: 10px; height: 10px; border-radius: 50%; }
        .control.red { background: #ff5f56; }
        .control.yellow { background: #ffbd2e; }
        .control.green { background: #27c93f; }

        .prose pre {
            margin: 0;
            padding: 1.25rem;
            overflow-x: auto;
            background: transparent;
        }

        .prose pre code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            background: transparent;
            padding: 0;
            color: inherit;
            border: none;
            white-space: pre;
        }

        /* Visual Examples (Special Pre) */
        .visual-example {
            background: #111827;
            border: 1px solid #374151;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            font-family: 'JetBrains Mono', monospace;
            color: #a5b4fc;
            line-height: 1.4;
            overflow-x: auto;
            font-size: 0.85rem;
        }

        /* Tables */
        .prose table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin: 2rem 0;
            font-size: 0.95rem;
            border: 1px solid #333;
            border-radius: 8px;
            overflow: hidden;
        }
        .prose th, .prose td {
            padding: 0.875rem 1.25rem;
            border-bottom: 1px solid #333;
            border-right: 1px solid #333;
        }
        .prose th:last-child, .prose td:last-child { border-right: none; }
        .prose tr:last-child td { border-bottom: none; }
        .prose th {
            background: #1a1a1a;
            color: #fff;
            font-weight: 600;
            font-family: 'Plus Jakarta Sans', sans-serif;
            text-align: left;
        }
        .prose td { color: #d4d4d4; }
        .prose tr:hover td { background: rgba(255,255,255,0.02); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef, useCallback } = React;
        
        // --- Icons ---
        const Icon = ({ name, size = 16, className = "" }) => {
            useEffect(() => {
                lucide.createIcons();
            }, [name]); 
            return <i data-lucide={name} className={className} style={{ width: size, height: size }}></i>;
        };

        const ChevronRight = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m9 18 6-6-6-6"/></svg>;
        const SearchIcon = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="opacity-50"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>;
        const MenuIcon = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>;
        const ArrowLeft = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>;
        const ArrowRight = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>;

        // --- Utils ---
        
        const extractHeadings = (markdown) => {
            if (!markdown) return [];
            const lines = markdown.split('\n');
            const headings = [];
            let inCodeBlock = false;
            
            lines.forEach(line => {
                if (line.trim().startsWith('```')) {
                    inCodeBlock = !inCodeBlock;
                    return;
                }
                if (inCodeBlock) return;
                
                const match = line.match(/^(#{2,3})\s+(.+)$/); // Skip H1
                if (match) {
                    const level = match[1].length;
                    const text = match[2].trim().replace(/\[.*?\]/g, '').replace(/\(.*?\)/g, ''); // Clean markdown links
                    const id = text.toLowerCase().replace(/[^\w\s-]/g, '').replace(/\s+/g, '-');
                    headings.push({ level, text, id });
                }
            });
            return headings;
        };
        
        const extractMetadata = (markdown) => {
            // Extract Frequency, Difficulty from markdown text patterns
            let frequency = null;
            let difficulty = null;
            
            // Look for "Frequency: ... " pattern
            const freqMatch = markdown.match(/Frequency:\*\*?\s*([^\n]+)/i);
            if (freqMatch) frequency = freqMatch[1].replace(/\*\*/g, '').trim();
            
            const diffMatch = markdown.match(/Difficulty:\*\*?\s*([^\n]+)/i);
            if (diffMatch) difficulty = diffMatch[1].replace(/\*\*/g, '').trim();

            return { frequency, difficulty };
        };

        // --- Markdown Renderer ---
        const renderer = new marked.Renderer();
        
        renderer.code = function(token) {
            // Check for v12+ object signature or fallback
            const text = token.text || token;
            const lang = token.lang || '';
            
            const code = String(text);
            
            // Detect Visual Examples (ASCII art usually)
            if (code.includes('. . .') || code.includes('---') || lang === 'text') {
                // Check if it looks like a diagram
                if (code.split('\n').length > 2 && (code.includes('|') || code.includes('+') || code.includes('.'))) {
                    return `<div class="visual-example"><pre>${code}</pre></div>`;
                }
            }

            const validLang = !!(lang && hljs.getLanguage(lang));
            let highlighted = validLang 
                ? hljs.highlight(code, { language: lang }).value 
                : hljs.highlightAuto(code).value;
            
            return `
                <div class="code-block-wrapper group">
                    <div class="code-header">
                        <div class="window-controls">
                            <div class="control red"></div>
                            <div class="control yellow"></div>
                            <div class="control green"></div>
                        </div>
                        <div class="flex items-center gap-3">
                            <span class="uppercase tracking-wider font-bold text-[10px] text-neutral-500">${lang || 'text'}</span>
                            <button onclick="copyToClipboard(this)" data-code="${encodeURIComponent(code)}" class="opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:text-white text-neutral-400" title="Copy">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                            </button>
                        </div>
                    </div>
                    <pre><code class="hljs ${lang}">${highlighted}</code></pre>
                </div>
            `;
        };

        renderer.heading = function(token) {
             // Handle Marked v12+ object signature
            let text, level;
            if (typeof token === 'object' && token !== null) {
                text = token.text;
                level = token.depth;
            } else {
                // Fallback
                text = arguments[0];
                level = arguments[1];
            }

            if (level === 1) return ''; // Hide H1 (rendered by Hero)
            
            const safeText = String(text || '');
            const id = safeText.toLowerCase().replace(/[^\w\s-]/g, '').replace(/\s+/g, '-');
            return `<h${level} id="${id}">${text}</h${level}>`;
        };
        
        // Custom Blockquote for Admonitions
        renderer.blockquote = function(quote) {
            const text = quote.text || quote; // Handle token object
            return `<blockquote>${text}</blockquote>`;
        };

        marked.setOptions({ renderer, gfm: true, breaks: true });

        window.copyToClipboard = function(btn) {
            const code = decodeURIComponent(btn.dataset.code);
            navigator.clipboard.writeText(code).then(() => {
                const originalHTML = btn.innerHTML;
                btn.innerHTML = `<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>`;
                setTimeout(() => {
                    btn.innerHTML = originalHTML;
                }, 2000);
            });
        };

        // --- Components ---

        const Badge = ({ children, type }) => {
            const colors = {
                blue: 'bg-blue-500/10 text-blue-400 border-blue-500/20',
                green: 'bg-green-500/10 text-green-400 border-green-500/20',
                purple: 'bg-purple-500/10 text-purple-400 border-purple-500/20',
                orange: 'bg-orange-500/10 text-orange-400 border-orange-500/20',
            };
            return (
                <span className={`px-2.5 py-0.5 rounded-full text-xs font-medium border ${colors[type] || colors.blue}`}>
                    {children}
                </span>
            );
        };

        const Hero = ({ title, metadata }) => {
            return (
                <div className="mb-12 border-b border-border/50 pb-8 animate-slide-up">
                    <div className="flex flex-wrap gap-3 mb-6">
                        {metadata.frequency && (
                            <Badge type="purple">
                                Frequency: {metadata.frequency}
                            </Badge>
                        )}
                        {metadata.difficulty && (
                            <Badge type={metadata.difficulty.toLowerCase().includes('hard') ? 'orange' : 'green'}>
                                {metadata.difficulty}
                            </Badge>
                        )}
                        <Badge type="blue">Atlassian</Badge>
                    </div>
                    <h1 className="text-4xl md:text-5xl font-display font-bold text-transparent bg-clip-text bg-gradient-to-r from-white to-white/60 leading-tight mb-4">
                        {title}
                    </h1>
                </div>
            );
        };

        const TableOfContents = ({ headings }) => {
            const [activeId, setActiveId] = useState('');

            useEffect(() => {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            setActiveId(entry.target.id);
                        }
                    });
                }, { rootMargin: '-100px 0px -66%' });

                headings.forEach(h => {
                    const el = document.getElementById(h.id);
                    if (el) observer.observe(el);
                });

                return () => observer.disconnect();
            }, [headings]);

            if (headings.length === 0) return null;

            return (
                <div className="hidden xl:block w-72 shrink-0 sticky top-24 h-[calc(100vh-6rem)] pl-8">
                    <div className="relative border-l border-border/40 pl-4 py-2">
                        <h4 className="text-[11px] font-bold text-neutral-500 uppercase tracking-widest mb-4">On This Page</h4>
                        <ul className="space-y-3 text-[13px]">
                            {headings.map((h, i) => (
                                <li key={i} style={{ paddingLeft: (h.level - 2) * 12 }}>
                                    <a 
                                        href={`#${h.id}`}
                                        className={`block transition-all duration-200 leading-snug ${
                                            activeId === h.id 
                                                ? 'text-primary font-medium translate-x-1' 
                                                : 'text-neutral-500 hover:text-neutral-300'
                                        }`}
                                        onClick={(e) => {
                                            e.preventDefault();
                                            document.getElementById(h.id)?.scrollIntoView({ behavior: 'smooth' });
                                            setActiveId(h.id);
                                        }}
                                    >
                                        {h.text}
                                    </a>
                                </li>
                            ))}
                        </ul>
                    </div>
                </div>
            );
        };

        const Sidebar = ({ items, activeItem, onItemClick, isOpen, onClose }) => {
            const [query, setQuery] = useState('');
            
            const filtered = useMemo(() => {
                if (!query) return items;
                const lower = query.toLowerCase();
                return items.filter(i => i.title.toLowerCase().includes(lower));
            }, [items, query]);

            return (
                <>
                    <div 
                        className={`fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden transition-opacity ${isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`}
                        onClick={onClose}
                    />
                    
                    <aside className={`
                        fixed md:sticky top-0 z-50 h-screen w-[280px] flex flex-col
                        bg-background md:bg-transparent border-r border-border/50
                        transition-transform duration-300
                        ${isOpen ? 'translate-x-0' : '-translate-x-full md:translate-x-0'}
                    `}>
                        <div className="p-6 pb-2">
                            <div className="flex items-center gap-3 mb-8">
                                <div className="w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center text-white shadow-lg shadow-blue-500/20">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
                                </div>
                                <div>
                                    <h1 className="font-display font-bold text-white text-lg leading-none">Interview<span className="text-primary">.io</span></h1>
                                    <span className="text-[10px] font-mono text-neutral-500 uppercase tracking-wider">Atlassian Prep</span>
                                </div>
                            </div>

                            <div className="relative group mb-4">
                                <div className="absolute inset-y-0 left-3 flex items-center pointer-events-none text-neutral-500 group-focus-within:text-primary transition-colors">
                                    <SearchIcon />
                                </div>
                                <input 
                                    type="text"
                                    placeholder="Filter..."
                                    value={query}
                                    onChange={e => setQuery(e.target.value)}
                                    className="w-full bg-surfaceHighlight border border-border text-sm rounded-lg py-2.5 pl-10 pr-4 text-neutral-300 focus:ring-1 focus:ring-primary focus:border-primary outline-none transition-all placeholder:text-neutral-600 shadow-sm"
                                />
                            </div>
                        </div>

                        <div className="flex-1 overflow-y-auto px-3 pb-4 space-y-0.5 custom-scrollbar">
                            {filtered.map((item, i) => {
                                const isActive = activeItem?.path === item.path;
                                return (
                                    <button
                                        key={item.path || i}
                                        onClick={() => onItemClick(item)}
                                        className={`
                                            w-full text-left px-3 py-2.5 rounded-lg text-sm transition-all duration-200 flex items-center gap-3 group
                                            ${isActive 
                                                ? 'bg-primary/10 text-primary font-medium border border-primary/10' 
                                                : 'text-neutral-500 hover:text-neutral-200 hover:bg-surfaceHighlight border border-transparent'
                                            }
                                        `}
                                    >
                                        <span className={`font-mono text-[10px] w-5 flex items-center justify-center rounded ${isActive ? 'bg-primary text-white' : 'bg-surfaceHighlight text-neutral-600'}`}>
                                            {i + 1}
                                        </span>
                                        <span className="truncate">{item.title}</span>
                                    </button>
                                );
                            })}
                        </div>
                    </aside>
                </>
            );
        };

        // Error Boundary
        class ErrorBoundary extends React.Component {
            constructor(props) {
                super(props);
                this.state = { hasError: false, error: null };
            }

            static getDerivedStateFromError(error) {
                return { hasError: true, error };
            }

            render() {
                if (this.state.hasError) {
                    return (
                        <div className="flex items-center justify-center h-screen bg-background text-error p-8 text-center">
                            <div>
                                <h1 className="text-2xl font-bold mb-4">Rendering Error</h1>
                                <pre className="text-sm bg-surfaceHighlight p-4 rounded text-left overflow-auto max-w-2xl border border-error/20">
                                    {this.state.error && this.state.error.toString()}
                                </pre>
                                <button onClick={() => window.location.reload()} className="mt-6 px-4 py-2 bg-surfaceHighlight border border-border rounded text-white hover:bg-surface transition-colors">
                                    Reload Application
                                </button>
                            </div>
                        </div>
                    );
                }
                return this.props.children;
            }
        }

        const App = () => {
            const [items, setItems] = useState([]);
            const [activeItem, setActiveItem] = useState(null);
            const [isSidebarOpen, setIsSidebarOpen] = useState(false);

            useEffect(() => {
                if (window.CONTENT_DATA) {
                    const ds = window.CONTENT_DATA.find(c => c.name === "Data_Structures");
                    if (ds && ds.children) {
                        const sorted = [...ds.children].sort((a, b) => a.name.localeCompare(b.name));
                        const processed = sorted.map(item => ({
                            ...item,
                            title: item.name.replace(/^\d+_/, '').replace(/\.md$/, '').replace(/_/g, ' ')
                        }));
                        setItems(processed);
                        if (processed.length > 0) setActiveItem(processed[0]);
                    }
                }
            }, []);

            const activeIndex = items.findIndex(i => i.path === activeItem?.path);
            const headings = useMemo(() => extractHeadings(activeItem?.content || ''), [activeItem]);
            const metadata = useMemo(() => extractMetadata(activeItem?.content || ''), [activeItem]);

            return (
                <div className="flex min-h-screen bg-background text-neutral-200 font-sans selection:bg-primary/30 selection:text-blue-100">
                    <Sidebar 
                        items={items}
                        activeItem={activeItem}
                        onItemClick={(item) => {
                            setActiveItem(item);
                            setIsSidebarOpen(false);
                            window.scrollTo(0,0);
                        }}
                        isOpen={isSidebarOpen}
                        onClose={() => setIsSidebarOpen(false)}
                    />

                    <main className="flex-1 flex flex-col min-w-0 border-r border-border/50 relative">
                        <header className="md:hidden flex items-center justify-between p-4 border-b border-border sticky top-0 bg-background/80 backdrop-blur z-30">
                            <div className="flex items-center gap-3">
                                <button onClick={() => setIsSidebarOpen(true)} className="p-1 text-neutral-400 hover:text-white">
                                    <MenuIcon />
                                </button>
                                <span className="font-bold text-white">Interview Prep</span>
                            </div>
                        </header>

                        <div className="flex-1 flex">
                            <div className="flex-1 max-w-4xl mx-auto w-full px-6 py-12 md:px-12 min-w-0">
                                {activeItem ? (
                                    <div className="animate-fade-in">
                                        <div className="flex items-center gap-2 text-[11px] font-mono text-neutral-500 mb-8 uppercase tracking-widest">
                                            <span>Data Structures</span>
                                            <span className="text-neutral-700">/</span>
                                            <span className="text-primary">{activeItem.title}</span>
                                        </div>
                                        
                                        <Hero title={activeItem.title} metadata={metadata} />
                                        
                                        <article 
                                            className="prose prose-invert max-w-none"
                                            dangerouslySetInnerHTML={{ __html: marked.parse(activeItem.content || '') }}
                                        />

                                        <div className="mt-20 pt-8 border-t border-border/50 grid grid-cols-1 md:grid-cols-2 gap-4">
                                            {activeIndex > 0 ? (
                                                <button 
                                                    onClick={() => {
                                                        setActiveItem(items[activeIndex - 1]);
                                                        window.scrollTo(0,0);
                                                    }}
                                                    className="group p-4 rounded-xl border border-border hover:border-neutral-600 bg-surfaceHighlight/50 hover:bg-surfaceHighlight transition-all text-left"
                                                >
                                                    <span className="text-xs text-neutral-500 mb-1 block">Previous</span>
                                                    <span className="font-display font-medium text-neutral-200 group-hover:text-white text-lg block">{items[activeIndex - 1].title}</span>
                                                </button>
                                            ) : <div></div>}

                                            {activeIndex < items.length - 1 ? (
                                                <button 
                                                    onClick={() => {
                                                        setActiveItem(items[activeIndex + 1]);
                                                        window.scrollTo(0,0);
                                                    }}
                                                    className="group p-4 rounded-xl border border-border hover:border-neutral-600 bg-surfaceHighlight/50 hover:bg-surfaceHighlight transition-all text-right"
                                                >
                                                    <span className="text-xs text-neutral-500 mb-1 block">Next</span>
                                                    <span className="font-display font-medium text-neutral-200 group-hover:text-white text-lg block">{items[activeIndex + 1].title}</span>
                                                </button>
                                            ) : <div></div>}
                                        </div>
                                    </div>
                                ) : (
                                    <div className="flex h-full items-center justify-center text-neutral-500">
                                        Loading...
                                    </div>
                                )}
                                <div className="h-32"></div>
                            </div>

                            <TableOfContents headings={headings} />
                        </div>
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(
            <ErrorBoundary>
                <App />
            </ErrorBoundary>
        );
    </script>
</body>
</html>